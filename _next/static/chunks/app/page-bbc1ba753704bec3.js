(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7648:function(e,t,r){Promise.resolve().then(r.bind(r,8688))},8688:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),a=r(2265),l=r(4243);function i(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null),[d,x]=(0,a.useState)("all"),[m,h]=(0,a.useState)(""),[u,g]=(0,a.useState)(6),p=(0,l.AY)("https://lnmrpwmtvscsczslzvec.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxubXJwd210dnNjc2N6c2x6dmVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDU1MjAsImV4cCI6MjA2OTcyMTUyMH0.ezg1YgFm3k3yXXCtKbI844tRbh7v2WXwnvD9jnIc7pY");async function b(){try{i(!0),o(null);let{data:e,error:r}=await p.from("articles").select("*").order("published_at",{ascending:!1});if(r)throw r;t(e||[])}catch(e){console.error("Error fetching articles:",e),o("Failed to load articles. Please try again later.")}finally{i(!1)}}function y(){let t=e;return"all"!==d&&(t=t.filter(e=>e.category===d)),m&&(t=t.filter(e=>e.title.toLowerCase().includes(m.toLowerCase())||e.summary.toLowerCase().includes(m.toLowerCase()))),t}(0,a.useEffect)(()=>{b()},[]),(0,a.useEffect)(()=>{y()},[e,d,m]);let f=y(),j=f.slice(0,u),N=f.length>u;return r?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-text-secondary",children:"Loading articles..."})]})}):c?(0,s.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-text-primary mb-4",children:"Error Loading Articles"}),(0,s.jsx)("p",{className:"text-text-secondary mb-6",children:c}),(0,s.jsx)("button",{onClick:b,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-text-primary mb-4",children:"Latest News from Kenya"}),(0,s.jsx)("p",{className:"text-xl text-text-secondary max-w-2xl mx-auto",children:"Stay informed with comprehensive coverage of politics, business, technology, sports, and entertainment"})]}),(0,s.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","Politics","Business","Technology","Sports","Entertainment"].map(e=>(0,s.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(d===e?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:"all"===e?"All Categories":e},e))}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search articles...",value:m,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-text-primary focus:outline-none focus:ring-2 focus:ring-primary"}),(0,s.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("p",{className:"text-text-secondary",children:0===f.length?"No articles found":"Showing ".concat(j.length," of ").concat(f.length," articles")})}),0===j.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCF0"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No articles found"}),(0,s.jsx)("p",{className:"text-text-secondary",children:m||"all"!==d?"Try adjusting your search or filter criteria":"No articles available at the moment"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:j.map(e=>(0,s.jsx)(n,{article:e},e.id))}),N&&(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{onClick:function(){g(e=>e+6)},className:"px-8 py-3 bg-primary text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Load More Articles"})})]})]})})}function n(e){let{article:t}=e,r=new Date(t.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=400&h=250&fit=crop&crop=top";return(0,s.jsxs)("article",{className:"article-card bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"aspect-video bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:[(0,s.jsx)("img",{src:t.image_url||a,alt:t.title,className:"w-full h-full object-cover",onError:e=>{e.target.src=a}}),(0,s.jsx)("div",{className:"absolute top-2 left-2",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-primary text-white text-xs font-medium rounded",children:t.category})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-text-primary mb-2 line-clamp-2",children:(0,s.jsx)("a",{href:"/article/".concat(t.slug,"/"),className:"hover:text-primary transition-colors",children:t.title})}),(0,s.jsx)("p",{className:"text-text-secondary text-sm mb-3 line-clamp-3",children:t.summary}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-text-secondary",children:[(0,s.jsx)("time",{dateTime:t.published_at,children:r}),t.source_url&&(0,s.jsx)("a",{href:t.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Source"})]})]})]})}}},function(e){e.O(0,[155,971,938,744],function(){return e(e.s=7648)}),_N_E=e.O()}]);