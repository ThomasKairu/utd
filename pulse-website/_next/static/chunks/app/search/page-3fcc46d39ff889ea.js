(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{902:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155);r(2115);var a=r(6874),l=r.n(a),n=r(1469),i=r.n(n),c=r(2808);let o=e=>{let{article:t,variant:r="default",className:a=""}=e,n=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=e=>{let t={Politics:"bg-blue-100 text-blue-800",Business:"bg-green-100 text-green-800",Technology:"bg-purple-100 text-purple-800",Sports:"bg-orange-100 text-orange-800",Entertainment:"bg-pink-100 text-pink-800",default:"bg-gray-100 text-gray-800"};return t[e]||t.default};return"featured"===r?(0,s.jsx)(c.A,{hover:!0,className:"overflow-hidden ".concat(a),role:"article",children:(0,s.jsx)(l(),{href:"/article/".concat(t.slug),children:(0,s.jsxs)("div",{className:"relative",children:[t.image_url&&(0,s.jsx)("div",{className:"relative h-64 w-full",children:(0,s.jsx)(i(),{src:t.image_url,alt:t.title,fill:!0,className:"object-cover"})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium mb-2 ".concat(o(t.category)),children:t.category}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2 line-clamp-2",children:t.title}),t.summary&&(0,s.jsx)("p",{className:"text-sm opacity-90 line-clamp-2",children:t.summary}),(0,s.jsx)("p",{className:"text-xs opacity-75 mt-2",children:n(t.published_at)})]})]})})}):"compact"===r?(0,s.jsx)(c.A,{hover:!0,className:"p-3 ".concat(a),role:"article",children:(0,s.jsx)(l(),{href:"/article/".concat(t.slug),children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[t.image_url&&(0,s.jsx)("div",{className:"relative w-20 h-16 flex-shrink-0",children:(0,s.jsx)(i(),{src:t.image_url,alt:t.title,fill:!0,className:"object-cover rounded"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium mb-1 ".concat(o(t.category)),children:t.category}),(0,s.jsx)("h3",{className:"text-sm font-semibold line-clamp-2 mb-1",children:t.title}),(0,s.jsx)("p",{className:"text-xs text-text-secondary",children:n(t.published_at)})]})]})})}):"horizontal"===r?(0,s.jsx)(c.A,{hover:!0,className:"overflow-hidden ".concat(a),role:"article",children:(0,s.jsx)(l(),{href:"/article/".concat(t.slug),children:(0,s.jsxs)("div",{className:"flex",children:[t.image_url&&(0,s.jsx)("div",{className:"relative w-48 h-32 flex-shrink-0",children:(0,s.jsx)(i(),{src:t.image_url,alt:t.title,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"p-4 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat(o(t.category)),children:t.category}),t.sponsored&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-accent text-white",children:"Sponsored"})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:t.title}),t.summary&&(0,s.jsx)("p",{className:"text-text-secondary text-sm mb-3 line-clamp-2",children:t.summary}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs text-text-secondary",children:[(0,s.jsx)("span",{children:n(t.published_at)}),t.source_url&&(0,s.jsx)("span",{className:"text-primary",children:"Read more →"})]})]})]})})}):(0,s.jsx)(c.A,{hover:!0,className:"overflow-hidden ".concat(a),role:"article",children:(0,s.jsxs)(l(),{href:"/article/".concat(t.slug),children:[t.image_url&&(0,s.jsx)("div",{className:"relative h-48 w-full mb-4",children:(0,s.jsx)(i(),{src:t.image_url,alt:t.title,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat(o(t.category)),children:t.category}),t.sponsored&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-accent text-white",children:"Sponsored"})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:t.title}),t.summary&&(0,s.jsx)("p",{className:"text-text-secondary text-sm mb-3 line-clamp-3",children:t.summary}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs text-text-secondary",children:[(0,s.jsx)("span",{children:n(t.published_at)}),t.source_url&&(0,s.jsx)("span",{className:"text-primary",children:"Read more →"})]})]})]})})}},1024:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(5155),a=r(2115),l=r(8046),n=r(4500);let i=function(e){let{onSearch:t,onResults:i,placeholder:c="Search articles...",className:o=""}=e,[d,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[b,p]=(0,a.useState)([]),f=(0,a.useRef)(null),y=(0,a.useRef)(null),j=(0,a.useCallback)(async e=>{x(!0);try{let{createClient:t}=await Promise.all([r.e(865),r.e(617)]).then(r.bind(r,3617)),s=t(),{data:a,error:l}=await s.from("articles").select("*").or("title.ilike.%".concat(e,"%,summary.ilike.%").concat(e,"%,content.ilike.%").concat(e,"%")).order("published_at",{ascending:!1}).limit(10);l?(console.error("Search error:",l),p([])):(p(a||[]),g(!0),i(a||[]))}catch(e){console.error("Search error:",e),p([])}finally{x(!1)}},[i]);(0,a.useEffect)(()=>{let e=setTimeout(()=>{d.trim().length>2?j(d):(p([]),g(!1))},300);return()=>clearTimeout(e)},[d,j]),(0,a.useEffect)(()=>{function e(e){f.current&&!f.current.contains(e.target)&&g(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let v=(e,t)=>{if(!t.trim())return e;let r=RegExp("(".concat(t,")"),"gi");return e.split(r).map((e,t)=>r.test(e)?(0,s.jsx)("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:e},t):e)};return(0,s.jsxs)("div",{ref:f,className:"relative ".concat(o),children:[(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),d.trim()&&(t(d.trim()),g(!1))},className:"relative",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,s.jsx)("input",{ref:y,type:"text",value:d,onChange:e=>m(e.target.value),placeholder:c,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900 placeholder-gray-500",autoComplete:"off"}),d&&(0,s.jsx)("button",{type:"button",onClick:()=>{var e;m(""),p([]),g(!1),null==(e=y.current)||e.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(n.A,{className:"h-5 w-5"})})]})}),h&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:u?(0,s.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto"}),(0,s.jsx)("p",{className:"mt-2",children:"Searching..."})]}):b.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-3 border-b border-gray-100 text-sm text-gray-600",children:[b.length," result",1!==b.length?"s":""," found"]}),b.map(e=>(0,s.jsxs)("a",{href:"/article/".concat(e.slug),className:"block p-4 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",onClick:()=>g(!1),children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:v(e.title,d)}),e.summary&&(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:v(e.summary,d)}),(0,s.jsxs)("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:e.category}),(0,s.jsx)("span",{className:"ml-2",children:e.published_at?new Date(e.published_at).toLocaleDateString():"No date"})]})]},e.id))]}):(0,s.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,s.jsx)(l.A,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),(0,s.jsxs)("p",{children:["No articles found for “",d,"”"]}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Try different keywords or check spelling"})]})})]})}},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return i}});let s=r(8229),a=r(8883),l=r(3063),n=s._(r(1193));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=l.Image},2808:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);r(2115);let a=e=>{let{children:t,className:r="",padding:a="md",shadow:l="md",hover:n=!1}=e,i="".concat("bg-white rounded-lg border border-medium-gray transition-all duration-200"," ").concat({sm:"p-3",md:"p-4",lg:"p-6"}[a]," ").concat({sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}[l]," ").concat(n?"hover:shadow-lg hover:-translate-y-1 cursor-pointer":""," ").concat(r);return(0,s.jsx)("div",{className:i,children:t})}},4105:(e,t,r)=>{Promise.resolve().then(r.bind(r,8933))},4500:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8046:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(2115);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},8933:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),l=r(5695),n=r(1024),i=r(902),c=r(8046);function o(){let e=(0,l.useSearchParams)().get("q")||"",[t,o]=(0,a.useState)(e),[d,m]=(0,a.useState)([]),[u,x]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!!e),[b,p]=(0,a.useState)(1),[f,y]=(0,a.useState)(0),[j,v]=(0,a.useState)(0),[N,w]=(0,a.useState)({category:"all",dateFrom:"",dateTo:"",sortBy:"relevance"});(0,a.useEffect)(()=>{e&&k(e,N,1)},[e,N]);let k=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e.trim()){x(!0),g(!0);try{let{createClient:a}=await Promise.all([r.e(865),r.e(617)]).then(r.bind(r,3617)),l=a().from("articles").select("*",{count:"exact"});l=l.or("title.ilike.%".concat(e,"%,summary.ilike.%").concat(e,"%,content.ilike.%").concat(e,"%")),(null==t?void 0:t.category)&&"all"!==t.category&&(l=l.eq("category",t.category)),(null==t?void 0:t.dateFrom)&&(l=l.gte("published_at",t.dateFrom)),(null==t?void 0:t.dateTo)&&(l=l.lte("published_at",t.dateTo));let n=(s-1)*12,{data:i,error:c,count:o}=await l.order("published_at",{ascending:!1}).range(n,n+12-1);c?(console.error("Search error:",c),m([])):(m(i||[]),p(s),y(Math.ceil((o||0)/12)),v(o||0))}catch(e){console.error("Search error:",e),m([])}finally{x(!1)}}},S=e=>{let r={...N,...e};w(r),p(1),t&&k(t,r,1)},_=e=>{p(e),k(t,N,e),window.scrollTo({top:0,behavior:"smooth"})};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Search Articles"}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsx)(n.A,{onSearch:e=>{o(e),p(1),k(e,N,1);let t=new URL(window.location.href);t.searchParams.set("q",e),window.history.pushState({},"",t.toString())},onResults:()=>{},placeholder:"Search for articles, topics, or keywords...",className:"w-full"})})]}),h&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filter Results"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,s.jsx)("select",{value:N.category,onChange:e=>S({category:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"all",label:"All Categories"},{value:"Politics",label:"Politics"},{value:"Business",label:"Business"},{value:"Technology",label:"Technology"},{value:"Sports",label:"Sports"},{value:"Entertainment",label:"Entertainment"}].map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,s.jsx)("input",{type:"date",value:N.dateFrom,onChange:e=>S({dateFrom:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,s.jsx)("input",{type:"date",value:N.dateTo,onChange:e=>S({dateTo:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,s.jsxs)("select",{value:N.sortBy,onChange:e=>S({sortBy:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"relevance",children:"Relevance"}),(0,s.jsx)("option",{value:"date",children:"Date"})]})]})]})]}),h&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,s.jsx)("div",{children:u?(0,s.jsx)("p",{className:"text-gray-600",children:"Searching..."}):(0,s.jsx)("p",{className:"text-gray-600",children:j>0?(0,s.jsxs)(s.Fragment,{children:["Showing ",(b-1)*12+1,"-",Math.min(12*b,j)," of"," ",j," results",t&&(0,s.jsxs)("span",{children:[" ","for “",(0,s.jsx)("strong",{children:t}),"”"]})]}):(0,s.jsxs)(s.Fragment,{children:["No results found",t&&(0,s.jsxs)("span",{children:[" ","for “",(0,s.jsx)("strong",{children:t}),"”"]})]})})})}),u&&(0,s.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,s.jsx)("span",{className:"ml-3 text-gray-600",children:"Searching articles..."})]}),!u&&d.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.map(e=>(0,s.jsx)(i.A,{article:{...e,summary:e.summary||void 0,image_url:e.image_url||void 0,source_url:e.source_url||void 0,published_at:e.published_at||new Date().toISOString()}},e.id))}),f>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>_(b-1),disabled:1===b,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,f)},(e,t)=>{let r=t+Math.max(1,b-2);return r>f?null:(0,s.jsx)("button",{onClick:()=>_(r),className:"px-4 py-2 border rounded-md text-sm font-medium ".concat(r===b?"bg-blue-500 text-white border-blue-500":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:r},r)}),(0,s.jsx)("button",{onClick:()=>_(b+1),disabled:b===f,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),!u&&h&&0===d.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No articles found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"We couldn't find any articles matching your search criteria."}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,s.jsx)("p",{children:"Try:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"Using different keywords"}),(0,s.jsx)("li",{children:"Checking your spelling"}),(0,s.jsx)("li",{children:"Using more general terms"}),(0,s.jsx)("li",{children:"Removing some filters"})]})]})]})]}),!h&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Search for Articles"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Enter keywords above to find articles on topics that interest you."})]})]})})}function d(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,s.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading search..."})]}),children:(0,s.jsx)(o,{})})}}},e=>{e.O(0,[874,63,441,964,358],()=>e(e.s=4105)),_N_E=e.O()}]);